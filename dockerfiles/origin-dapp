FROM node:9

# Make wait-for.sh available
COPY ./scripts/wait-for.sh /usr/local/bin
# Add export-swarm.sh for setting IPFS_SWARM env var based on the Peer ID
# of the OrbitDB IPFS server running in the orbit-db container
COPY ./scripts/export-swarm.sh /usr/local/bin

WORKDIR /app
# Copy package.json and package-lock.json
COPY ./origin-dapp/package*.json /app/
ENV NODE_ENV development
# Use --quiet and --no-progress to speed up npm install
RUN npm install --quiet --no-progress
